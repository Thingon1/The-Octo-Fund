@import 'normalize'
@import 'variables'
@import 'global'


main  
  &.intro
    #loading
      visibility hidden
      
      .i-logo
        font-size 0

    #intro
      visibility visible
      display block !important //keeps it from showing up (flickering) onpageload
    
    h2
      @extend $IntroSlideUp
      
    hr
      @extend $IntroWideHR
    
    .intro-desc
      @extend $IntroSlideDown
      
    #login
      display block !important //keeps it from showing up (flickering) onpageload

  &.login
    .logo, #request
      display block !important //keeps it from showing up (flickering) onpageload
      
    #intro
      visibility hidden
      .top
        transform translateY(-100%)
      
      .bottom
        transform translateY(100%)
      
      h2
        opacity 0
      
      .intro-desc
        opacity 0
        
    .logo
      color $c-white
        
    #login
      visibility visible
      
    #welcome-alert
      display block !important
      
    #social
      display block !important
      
  &.welcome
    .logo h1
      opacity 0
      
    #login
      opacity 0
      visibility hidden
      transition-delay 1.5s
      
      form input, form input:hover, form input:focus, form input:active
        color $c-positive !important
        border-bottom-color $c-positive !important
        
      .instruction, .get-code, .tagline
        opacity 0
        
    #social
      display none !important
      
    #welcome-alert
      opacity 1
      visibility visible
      transition-delay 3.5s
  
.logo
  position fixed
  top .5em
  left .5em
  margin 1% 1.25%
  z-index $z-logo
  
  &:hover
    color $c-highlight
  
  .i-logo
    display inline-block
    position relative
    margin-right .25em
    font-size 1.5em
    vertical-align middle
    transition $t-all
    
  h1
    @extend $f-serif
    display inline-block
    margin 0
    font-size 1.5em
    text-transform uppercase
    vertical-align middle
    transition $t-all-slow
    
    &.js-scroll
      transform translateY(-.25em)
      opacity 0

section
  @extend $fill
  transition $t-all-slow
  
  .content
    margin 2em auto
    padding 4% 5%

#loading
  text-align center
  font-size 2em
  z-index $z-loading
  
  .i-logo
    @extend $middle
    transition $t-all-slow

#intro
  z-index $z-intro
  text-align center
  overflow hidden
  visibility hidden
  
  .top, .bottom
    position relative
    height 50%
    transition $t-all-slow
    background $c-white
    overflow hidden
    
    @media $r-desktop
      font-size 125%
    
  h2
    @extend $f-serif
    position absolute
    margin 0
    bottom -.125em
    font-size 3em
    width 100%
    transition $t-all-slow
    
  hr
    width 10em
    margin 0 auto .325em
    
  .intro-desc
    transition $t-all-slow
    
  .disclaimer
    @extend $detail
    position absolute
    bottom 2em
    width 100%
    margin 0
    font-size $f-s
    
#login
  position fixed
  top -10% //hides the top when scrolling on mobile
  z-index $z-login
  color $c-white
  background-color $c-main
  background url(../img/login_bg.jpg) no-repeat center / cover
  visibility hidden
  
  .access-code
    @extend $middle
    text-align center
      
    &.js-incorrect
      form
        color $c-negative
      
      .instruction
        opacity .5

      .get-code
        opacity 1
    
    .instruction
      margin-bottom 2em
    
    form
      transition opacity $t-all-slow
      transition-delay .5s
    
    input
      text-align center
      width 12em
      min-width 12em
      max-width 20.5em
      padding .75em 0 .25em .5em
      letter-spacing 1.5em
      transition $t-all, width 0s, padding 0s
      
      &:hover
        min-width 13em
          
      &:focus
        min-width 12em
        
      &.js-invalid-input
        border-bottom-color $c-negative !important
        
    .instruction, .get-code
      transition $t-all-slow
        
    .get-code
      padding-top .75em
      font-size $f-s

  .tagline
    position absolute
    bottom .5em
    left .5em
    margin 0 2% 1.5% 1.5%
    max-width 40em
    transition $t-all-slow
    
#request
  z-index $z-request
  visibility hidden
  
  .rq-bg
    @extend $fill
    opacity 0
    background-color $c-black
    cursor pointer
    transition $t-all-slow
    
  button.js-toggle-request
    position fixed
    z-index 5
    right 1%
    margin 1% 1.25%
    padding 1em .5em 2em 2em
    border none
    opacity 0
    background none
    
  .request-content
    position fixed
    top 0
    right 0
    bottom 0
    left 3.5em
    background-color $c-white
    transform translateX(100%)
    transition $t-all-slow
        
    .content
      p
        max-width 38em

main
  &.req-open
    .logo h1
      opacity 0
      
    #request
      visibility visible
      
      .rq-bg
        opacity .4
        
        &:hover
          opacity .2
          transition $t-all
          
      button.js-toggle-request
        opacity .5
        
        &:hover, &:focus 
          opacity 1
          color $c-negative
      
      .request-content
        transform translateX(1.25%)
        
    .tagline
      opacity 0
      
    #social
      display none !important
    
#welcome-alert
  opacity 0
  visibility hidden
  text-align center
  
  h3
    @extend $middle
    color $c-main
    
#social
  top 100%
  bottom initial
  color $c-white
  z-index $z-social
  min-height 105% //so border radius doesn't show when scrolling
  padding-top 5em
  text-align center
  border-radius 150%/2em 2em 0 0
  box-shadow 0 0 2em 0 alpha($c-white,.2)
  background-color alpha($c-black,.9)
  
  h3
    margin-bottom 2em
    
  .back-to-top
    position fixed
    opacity 0
    visibility hidden
    right 50%
    transform translateX(50%)
    bottom 0
    margin 1%
    font-size $f-s
    background-color alpha($c-black,.9)
    border-color $c-black
    
    &:hover, &:focus
      color $c-black
      background-color $c-highlight
      
    &.js-scroll
      opacity 1
      visibility visible
      bottom .25em
      
    @media $r-tablet
      right .5em
      transform none
    
  #twitter-widget-0
    max-width 30em !important
